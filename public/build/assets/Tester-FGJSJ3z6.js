import{r as n,j as e,b as u}from"./app-DeyD0YJM.js";import{A as P}from"./AppLayout-DdE95dyF.js";import{S as z}from"./search-BQDiPUyu.js";import{U as D}from"./users-DR3S7fY7.js";import{C as d}from"./clock-DwtAG6FA.js";import{C as h}from"./circle-check-big-_usF_w8l.js";import{C as F}from"./circle-plus-_AtZGtgj.js";import{C as g}from"./circle-alert-DYrdqRgD.js";import{X as E,S as L}from"./x-8DGeKDp6.js";import"./createLucideIcon-Cc44qyyy.js";const G=({tasks:b=[],developers:f=[],clients:j=[]})=>{const[t,c]=n.useState({developer:"",client:""}),[x,y]=n.useState(""),[N,m]=n.useState(!1),[i,p]=n.useState(null),[r,a]=n.useState({description:"",remark:"",passed:!1,testerName:"QA Tester"}),l=b.filter(s=>s.task.toLowerCase().includes(x.toLowerCase())&&(t.developer===""||s.developer===t.developer)&&(t.client===""||s.client===t.client)),v=s=>{switch(s){case"Finished":return e.jsx(h,{className:"w-4 h-4"});case"In Progress":return e.jsx(g,{className:"w-4 h-4 text-blue-600"});case"Pending":return e.jsx(d,{className:"w-4 h-4 text-yellow-600"});default:return e.jsx(d,{className:"w-4 h-4"})}},w=s=>{switch(s){case"Finished":return"bg-purple-100 text-purple-800 border-purple-200";case"In Progress":return"bg-blue-100 text-blue-800 border-blue-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=s=>s?new Date(s).toLocaleDateString():"N/A",C=s=>{p(s),a({description:"",remark:"",passed:!1,testerName:"QA Tester"}),m(!0)},o=()=>{m(!1),p(null)},S=()=>{if(!r.description.trim()||!r.remark.trim()){alert("Please fill in description and remark.");return}u.post("/tester/add-issue",{taskId:i.id,description:r.description,passed:r.passed,remark:r.remark,testerName:r.testerName},{onSuccess:()=>{u.reload({only:["tasks"],preserveState:!0,preserveScroll:!0}),o()},onError:s=>{console.error("Error adding issue:",s)}})};return e.jsx(P,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 p-8 space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 flex items-center gap-3",children:"ðŸ§ª Tester Dashboard"}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search by project name...",value:x,onChange:s=>y(s.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:t.developer,onChange:s=>c({...t,developer:s.target.value}),className:"border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Developers"}),f.map(s=>e.jsx("option",{children:s},s))]}),e.jsxs("select",{value:t.client,onChange:s=>c({...t,client:s.target.value}),className:"border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Clients"}),j.map(s=>e.jsx("option",{children:s},s))]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[["Total Projects",l.length,"from-blue-500 to-blue-600",e.jsx(D,{size:24})],["In Progress",l.filter(s=>s.status==="In Progress").length,"from-yellow-500 to-yellow-600",e.jsx(d,{size:24})],["Finished",l.filter(s=>s.status==="Finished").length,"from-purple-500 to-purple-600",e.jsx(h,{size:24,className:"text-white/80"})]].map(([s,A,I,T])=>e.jsx("div",{className:`bg-gradient-to-br ${I} text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-sm opacity-90",children:s}),e.jsx("p",{className:"text-3xl font-bold mt-2",children:A})]}),e.jsx("div",{className:"p-3 bg-white/10 rounded-full",children:T})]})},s))}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:["Project Name","Developer Name","Client","Status","Completion Timeline","Testing Points","Action"].map(s=>e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s},s))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-all duration-200 cursor-pointer",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:s.task}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700",children:s.developer}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700",children:s.client}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${w(s.status)}`,children:[v(s.status),s.status]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-700",children:k(s.due)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-gray-700",children:s.testingPoints.length}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:"flex gap-2 justify-end",children:e.jsxs("button",{onClick:()=>C(s),className:"bg-green-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-600 transition-all duration-200 font-medium flex items-center gap-1",children:[e.jsx(F,{size:12}),"Add New Issue"]})})})]},s.id))})]})}),l.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(g,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No projects available for testing."})]})]}),N&&i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Add New Issue to ",i.task]}),e.jsx("button",{onClick:o,className:"text-gray-500 hover:text-gray-700",children:e.jsx(E,{size:24})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:r.description,onChange:s=>a({...r,description:s.target.value}),placeholder:"Describe the issue...",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical min-h-[80px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"status",checked:r.passed,onChange:s=>a({...r,passed:!0}),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Passed"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"status",checked:!r.passed,onChange:s=>a({...r,passed:!1}),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Failed"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tester Name"}),e.jsx("input",{type:"text",value:r.testerName,onChange:s=>a({...r,testerName:s.target.value}),placeholder:"Your name...",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tester Remark"}),e.jsx("textarea",{value:r.remark,onChange:s=>a({...r,remark:s.target.value}),placeholder:"Add your remark...",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical min-h-[80px]"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:o,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:S,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(L,{size:18}),"Add Issue"]})]})]})]})})]})})};export{G as default};
