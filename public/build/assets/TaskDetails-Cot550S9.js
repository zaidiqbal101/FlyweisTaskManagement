import{a as F,r as x,j as e,b as g}from"./app-DeyD0YJM.js";import{A as L}from"./AppLayout-DdE95dyF.js";import{C as u}from"./circle-alert-DYrdqRgD.js";import{C as c}from"./circle-check-big-_usF_w8l.js";import{X as D,S as M}from"./x-8DGeKDp6.js";import{S as z}from"./search-BQDiPUyu.js";import{U as N,F as y}from"./user-B8f7uQn2.js";import{U as v}from"./users-DR3S7fY7.js";import{C as $}from"./clock-DwtAG6FA.js";import{C as I}from"./calendar-gQqKnTfh.js";import{c as U}from"./createLucideIcon-Cc44qyyy.js";import{T as E}from"./trash-2-D_SEweL6.js";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],w=U("file-plus",O),Y=()=>{const{task:l,flash:i}=F().props,[n,k]=x.useState(""),[d,m]=x.useState({name:"",note:""});if(!l)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center p-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12 text-center max-w-md",children:[e.jsx(u,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"Task not found. Please return to the dashboard."}),e.jsx("button",{onClick:()=>g.visit("/manager"),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl font-medium hover:shadow-lg transition-all duration-200",children:"Back to Manager"})]})});const[r,o]=x.useState({...l,managerRemarks:(l==null?void 0:l.managerRemarks)||["","",""],overallRemark:(l==null?void 0:l.overallRemark)||"",documents:(l==null?void 0:l.documents)||[]}),h=s=>o({...r,status:s}),C=(s,t)=>{const a=[...r.managerRemarks];a[s]=t,o({...r,managerRemarks:a})},R=(s,t)=>{o({...r,testingPoints:r.testingPoints.map(a=>a.id===s?{...a,...t}:a)})},P=()=>{d.name&&d.note.trim()&&(o({...r,documents:[...r.documents,{name:d.name,note:d.note}]}),m({name:"",note:""}))},S=s=>{o({...r,documents:r.documents.filter((t,a)=>a!==s)})},T=()=>{g.put(`/task/${r.id}`,{status:r.status,devRemark:r.devRemark,clientRemark:r.clientRemark,overallRemark:r.overallRemark,managerRemarks:r.managerRemarks,testingPoints:r.testingPoints,documents:r.documents},{onSuccess:()=>{},preserveState:!0,preserveScroll:!0})},b=r.testingPoints.filter(s=>{var t,a,f,j;return((t=s.description)==null?void 0:t.toLowerCase().includes(n.toLowerCase()))||((a=s.remark)==null?void 0:a.toLowerCase().includes(n.toLowerCase()))||((f=s.testerName)==null?void 0:f.toLowerCase().includes(n.toLowerCase()))||((j=s.managerRemark)==null?void 0:j.toLowerCase().includes(n.toLowerCase()))}),p=r.status==="In Progress"&&r.testingPoints.length>0&&r.testingPoints.every(s=>s.passed),A=s=>{switch(s){case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"In Progress":return"bg-blue-100 text-blue-800 border-blue-200";case"Finished":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return e.jsx(L,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[(i==null?void 0:i.success)&&e.jsx("div",{className:"bg-green-100 text-green-800 p-3 rounded-md mb-4",children:i.success}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6 border border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-green-400 to-green-600 rounded-xl",children:e.jsx(c,{className:"text-white w-6 h-6"})}),e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:r.task})]}),e.jsx("div",{className:"flex items-center gap-2 ml-14",children:e.jsx("span",{className:`px-4 py-1.5 rounded-full text-sm font-semibold border-2 ${A(r.status)}`,children:r.status})})]}),e.jsxs("button",{onClick:()=>g.visit("/manager"),className:"bg-gray-100 text-gray-700 px-5 py-2.5 rounded-xl flex items-center gap-2 hover:bg-gray-200 transition-all duration-200 font-medium border border-gray-200",children:[e.jsx(D,{size:18})," Close"]})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:n,onChange:s=>k(s.target.value),placeholder:"Search testing points, remarks, tester names...",className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 shadow-sm"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(N,{className:"w-5 h-5 text-blue-600"})}),e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Developer"})]}),e.jsx("p",{className:"text-lg font-semibold text-gray-800 ml-11",children:r.developer})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(v,{className:"w-5 h-5 text-purple-600"})}),e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Client"})]}),e.jsx("p",{className:"text-lg font-semibold text-gray-800 ml-11",children:r.client})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx($,{className:"w-5 h-5 text-orange-600"})}),e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Manager Timeline"})]}),e.jsx("p",{className:"text-lg font-semibold text-gray-800 ml-11",children:r.due})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(I,{className:"w-5 h-5 text-green-600"})}),e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Developer Expected"})]}),e.jsx("p",{className:"text-lg font-semibold text-gray-800 ml-11",children:r.expectedTimeline||"Not set"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Task Status"}),e.jsxs("select",{value:r.status,onChange:s=>h(s.target.value),className:"w-full border-2 border-gray-200 rounded-xl p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 font-medium cursor-pointer",children:[e.jsx("option",{children:"Pending"}),e.jsx("option",{children:"In Progress"}),e.jsx("option",{children:"On Hold"}),e.jsx("option",{children:"Finished"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl shadow-sm border border-blue-200",children:[e.jsxs("label",{className:"block font-semibold mb-3 text-blue-900 flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4"}),"Developer Remark"]}),e.jsx("input",{type:"text",value:r.devRemark,readOnly:!0,className:"rounded-xl p-3 w-full border-2 border-blue-200 bg-white cursor-not-allowed text-gray-700"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl shadow-sm border border-purple-200",children:[e.jsxs("label",{className:"block font-semibold mb-3 text-purple-900 flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4"}),"Client Remark"]}),e.jsx("input",{type:"text",value:r.clientRemark,readOnly:!0,className:"rounded-xl p-3 w-full border-2 border-purple-200 bg-white cursor-not-allowed text-gray-700"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-xl shadow-sm border border-red-200",children:[e.jsxs("label",{className:"block font-semibold mb-3 text-red-900 flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4"}),"Issues Found"]}),e.jsx("div",{className:"space-y-3",children:["1.","2.","3."].map((s,t)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold text-sm text-red-700 self-start mt-3",children:s}),e.jsx("input",{type:"text",value:r.managerRemarks[t]||"",onChange:a=>C(t,a.target.value),placeholder:`Issue ${t+1}...`,className:"flex-1 border-2 border-red-200 bg-white rounded-xl p-2.5 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all duration-200"})]},t))})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 p-6 rounded-xl shadow-sm border border-gray-200 mb-6",children:[e.jsxs("label",{className:"block font-semibold mb-3 text-gray-900 flex items-center gap-2",children:[e.jsx(c,{className:"w-4 h-4"}),"Managers Overall Remark"]}),e.jsx("textarea",{value:r.overallRemark,onChange:s=>o({...r,overallRemark:s.target.value}),placeholder:"Add overall remark...",className:"w-full border-2 border-gray-200 bg-white rounded-xl p-3 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-200 resize-vertical min-h-[100px]"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-100",children:[e.jsxs("h3",{className:"text-xl font-bold mb-5 flex items-center gap-2 text-gray-800",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:e.jsx(y,{className:"text-indigo-600 w-5 h-5"})}),"Documents & Files"]}),r.documents.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:[e.jsx(w,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400 italic",children:"No documents uploaded yet."})]}):e.jsx("div",{className:"space-y-3 mb-6",children:r.documents.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl border border-gray-200 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(y,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.note})]})]}),e.jsx("button",{onClick:()=>S(t),className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-2 rounded-lg transition-all duration-200",children:e.jsx(E,{size:18})})]},t))}),e.jsxs("div",{className:"flex gap-3 items-end bg-gradient-to-r from-indigo-50 to-blue-50 p-4 rounded-xl border-2 border-indigo-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File Name"}),e.jsx("input",{type:"text",placeholder:"Enter file name",value:d.name,onChange:s=>m({...d,name:s.target.value}),className:"w-full border-2 border-gray-200 p-2.5 rounded-lg focus:ring-2 focus:ring-indigo-400 bg-white transition-all"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Note"}),e.jsx("input",{type:"text",value:d.note,onChange:s=>m({...d,note:s.target.value}),placeholder:"Add a note for this document...",className:"w-full border-2 border-gray-200 p-3 rounded-lg focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 bg-white transition-all"})]}),e.jsxs("button",{onClick:P,className:"bg-gradient-to-r from-indigo-600 to-blue-600 text-white px-6 py-3 rounded-lg hover:shadow-lg transition-all duration-200 flex items-center gap-2 font-medium",children:[e.jsx(w,{size:18})," Add"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[e.jsxs("h3",{className:"text-xl font-bold mb-5 flex items-center gap-2 text-gray-800",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(c,{className:"text-green-600 w-5 h-5"})}),"Testing Data & Results"]}),b.length===0?e.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:[e.jsx(u,{className:"w-14 h-14 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 italic text-lg",children:n?`No testing data matches "${n}".`:"No testing data available yet."})]}):e.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-blue-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Project Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Tester Name"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Date Added"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Tester Remark"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Manager Remark"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:b.map((s,t)=>e.jsxs("tr",{className:`hover:bg-blue-50 transition-colors duration-150 ${t%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:r.task}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:s.testerName||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:s.addedDate||"N/A"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-md",children:s.description}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-3 p-1.5 text-xs font-bold rounded-full border-2 ${s.passed?"bg-green-100 text-green-800 border-green-300":"bg-red-100 text-red-800 border-red-300"}`,children:s.passed?"Passed":"Failed"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 max-w-xs",children:s.remark||"N/A"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"text",value:s.managerRemark||"",onChange:a=>R(s.id,{managerRemark:a.target.value}),placeholder:"Add remark...",className:"border-2 border-gray-200 rounded-lg p-2.5 w-full focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-sm transition-all"})})]},s.id))})]})})]}),e.jsxs("div",{className:"flex gap-4 mt-6",children:[p&&e.jsxs("button",{onClick:()=>h("Finished"),className:"flex-1 bg-gradient-to-r from-purple-600 via-indigo-600 to-blue-600 text-white py-4 rounded-xl font-bold hover:shadow-2xl transition-all duration-300 flex items-center justify-center gap-3 text-lg transform hover:scale-105",children:[e.jsx(c,{size:24})," Mark Task as Finished"]}),e.jsxs("button",{onClick:T,className:`${p?"flex-1":"w-full"} bg-gradient-to-r from-green-600 to-emerald-600 text-white py-4 rounded-xl font-bold hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-3 text-lg`,children:[e.jsx(M,{size:22})," Save & Return"]})]})]})})})};export{Y as default};
