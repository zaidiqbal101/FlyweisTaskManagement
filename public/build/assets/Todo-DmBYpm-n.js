import{a as _,r as p,u as P,j as e,b as f}from"./app-DeyD0YJM.js";import{A as I}from"./AppLayout-DdE95dyF.js";import{c as m}from"./createLucideIcon-Cc44qyyy.js";import{C as q}from"./clipboard-list-DbABM-v3.js";import{T as z}from"./trash-2-D_SEweL6.js";import{C as F}from"./calendar-gQqKnTfh.js";import{C as H}from"./clock-DwtAG6FA.js";import{C as O}from"./circle-check-big-_usF_w8l.js";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Y=m("funnel",U);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],R=m("pen",B);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],b=m("plus",G);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],K=m("sparkles",J),se=()=>{const{tasks:y=[],flash:i,errors:l}=_().props,[u,j]=p.useState("All"),[d,x]=p.useState(null),{data:o,setData:n,post:N,put:v,processing:a,reset:g}=P({text:"",dueDate:"",dueTime:"",priority:"Medium"}),w=r=>{if(r.preventDefault(),!o.text||!o.dueDate||!o.dueTime){alert("Please fill in all required fields.");return}d?v(`/todo/${d}`,{onSuccess:()=>{g(),x(null)},onError:t=>{console.error("Error updating task:",t)}}):N("/todo",{onSuccess:()=>g(),onError:t=>{console.error("Error adding task:",t)}})},T=r=>{x(r.id),n({text:r.text,dueDate:r.dueDate,dueTime:r.dueTime,priority:r.priority})},D=()=>{x(null),g()},C=(r,t)=>{f.put(`/todo/${r}`,{completed:!t},{preserveState:!0,onError:s=>{console.error("Error updating task:",s)}})},$=r=>{confirm("Are you sure you want to delete this task?")&&f.delete(`/todo/${r}`,{preserveState:!0,onError:t=>{console.error("Error deleting task:",t)}})},k=r=>{const t=new Date;return new Date(`${r.dueDate}T${r.dueTime}`)<t&&!r.completed},h=y.filter(r=>{const t=new Date,s=new Date(r.dueDate),c=new Date;switch(c.setDate(t.getDate()-1),u){case"Today":return s.toDateString()===t.toDateString();case"Yesterday":return s.toDateString()===c.toDateString();case"Upcoming":return s>t;default:return!0}}),S=r=>{switch(r){case"High":return"bg-red-100 text-red-700 border-red-200";case"Medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"Low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},E=(r,t)=>{if(!r||!t)return"N/A";const s=new Date(`${r}T${t}`),c=s.toLocaleDateString(void 0,{month:"short",day:"numeric"}),L=s.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!0});return`${c} at ${L}`},A=r=>new Date(r).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),M=r=>e.jsxs("div",{className:`bg-white border-2 rounded-2xl shadow-lg p-6 flex flex-col justify-between hover:shadow-2xl transition-all duration-300 ${r.completed?"border-green-200":"border-gray-200"}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h2",{className:`text-xl font-semibold leading-tight ${r.completed?"line-through text-gray-400":"text-gray-800"}`,children:r.text}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>T(r),className:"text-blue-500 hover:text-blue-700 transition-colors",disabled:a,children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>$(r.id),className:"text-red-500 hover:text-red-700 transition-colors",disabled:a,children:e.jsx(z,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold border-2 ${S(r.priority)}`,children:r.priority}),e.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold text-white shadow ${r.completed?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-yellow-400 to-orange-500"}`,children:r.completed?"Completed":"Pending"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg border-2 ${k(r)?"bg-red-50 border-red-200 text-red-700":"bg-gray-50 border-gray-200 text-gray-700"}`,children:[e.jsx(F,{className:"w-3.5 h-3.5 flex-shrink-0"}),e.jsx("span",{className:"text-xs font-semibold",children:E(r.dueDate,r.dueTime)})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border-2 bg-gray-50 border-gray-200 text-gray-700",children:[e.jsx(H,{className:"w-3.5 h-3.5 flex-shrink-0"}),e.jsxs("span",{className:"text-xs font-semibold",children:["Created ",A(r.createdAt)]})]})]})]}),e.jsxs("button",{onClick:()=>C(r.id,r.completed),className:`mt-4 py-2 rounded-lg font-semibold flex items-center justify-center gap-2 shadow transition-all ${r.completed?"bg-gray-200 text-gray-700":"bg-gradient-to-br from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700"}`,disabled:a,children:[e.jsx(O,{className:"w-4 h-4"}),r.completed?"Mark Incomplete":"Mark Complete"]})]},r.id);return e.jsx(I,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-emerald-50 to-green-100 p-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[(i==null?void 0:i.success)&&e.jsx("div",{className:"bg-green-100 text-green-800 p-3 rounded-md mb-4",children:i.success}),Object.keys(l).length>0&&e.jsx("div",{className:"bg-red-100 text-red-800 p-3 rounded-md mb-4",children:Object.values(l).map((r,t)=>e.jsx("p",{children:r},t))}),e.jsxs("div",{className:"mb-10 flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-600 to-green-500 rounded-2xl shadow-lg",children:e.jsx(K,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:"My Tasks Dashboard"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5 text-gray-600"}),e.jsxs("select",{value:u,onChange:r=>j(r.target.value),className:"border-2 border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-400",children:[e.jsx("option",{children:"All"}),e.jsx("option",{children:"Today"}),e.jsx("option",{children:"Yesterday"}),e.jsx("option",{children:"Upcoming"})]})]})]}),e.jsxs("div",{className:"bg-white border border-emerald-100 rounded-2xl shadow-lg p-6 mb-10",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[e.jsx(b,{className:"w-6 h-6 text-emerald-600"})," ",d?"Edit Task":"Add New Task"]}),e.jsxs("form",{onSubmit:w,className:"grid grid-cols-1 md:grid-cols-5 gap-3",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"mb-1 text-sm font-semibold text-gray-700",children:"Name"}),e.jsx("input",{type:"text",value:o.text,onChange:r=>n("text",r.target.value),placeholder:"Enter task name...",className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-400 ${l.text?"border-red-300":"border-gray-200"}`})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"mb-1 text-sm font-semibold text-gray-700",children:"Date"}),e.jsx("input",{type:"date",value:o.dueDate,onChange:r=>n("dueDate",r.target.value),className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-400 ${l.dueDate?"border-red-300":"border-gray-200"}`})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"mb-1 text-sm font-semibold text-gray-700",children:"Time"}),e.jsx("input",{type:"time",value:o.dueTime,onChange:r=>n("dueTime",r.target.value),className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emeraldleave-400 ${l.dueTime?"border-red-300":"border-gray-200"}`})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"mb-1 text-sm font-semibold text-gray-700",children:"Priority"}),e.jsxs("select",{value:o.priority,onChange:r=>n("priority",r.target.value),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-400",children:[e.jsx("option",{children:"High"}),e.jsx("option",{children:"Medium"}),e.jsx("option",{children:"Low"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"submit",disabled:a,className:`flex-1 bg-gradient-to-br from-emerald-600 to-green-500 hover:from-emerald-700 hover:to-green-600 text-white py-2 rounded-lg font-semibold shadow-md transition-transform transform hover:scale-105 flex justify-center items-center gap-2 ${a?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(b,{className:"w-5 h-5"})," ",a?"Saving...":d?"Update Task":"Add Task"]}),d&&e.jsx("button",{type:"button",onClick:D,className:"flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg font-semibold shadow-md hover:bg-gray-300 transition-transform transform hover:scale-105 flex justify-center items-center gap-2",children:"Cancel"})]})]})]}),h.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(M)}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-16 text-center border border-gray-200",children:[e.jsx(q,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No tasks for selected filter."})]})]})})})};export{se as default};
